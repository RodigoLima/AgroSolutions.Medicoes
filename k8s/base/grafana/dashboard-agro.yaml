apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards-agro
  namespace: agro-medicoes
data:
  alertas.json: |
    {"annotations":{"list":[{"builtIn":1,"datasource":{"type":"grafana","uid":"-- Grafana --"},"enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations & Alerts","type":"dashboard"}]},"editable":true,"fiscalYearStartMonth":0,"graphTooltip":0,"id":9,"links":[],"panels":[{"datasource":{"type":"grafana-postgresql-datasource","uid":"postgres"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":0},"id":4,"options":{"colorMode":"value","graphMode":"area","justifyMode":"auto","orientation":"auto","percentChangeColorMode":"standard","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showPercentChange":false,"textMode":"auto","wideLayout":true},"pluginVersion":"12.3.1","targets":[{"dataset":"dashAgro","datasource":{"type":"grafana-postgresql-datasource","uid":"postgres"},"editorMode":"code","format":"table","rawQuery":true,"rawSql":"SELECT COUNT(*)\nFROM vw_alertas_base\nWHERE\n    id_propriedade = '$Propriedade'\n    AND data_alerta >= now() - interval '7 days';","refId":"A","sql":{"columns":[{"parameters":[],"type":"function"}],"groupBy":[{"property":{"type":"string"},"type":"groupBy"}],"limit":50}}],"title":"Total de Alertas Últimos 7 dias","type":"stat"},{"datasource":{"type":"grafana-postgresql-datasource","uid":"postgres"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","fillOpacity":80,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineWidth":1,"scaleDistribution":{"type":"linear"},"thresholdsStyle":{"mode":"off"}},"decimals":0,"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":8},"id":3,"options":{"barRadius":0,"barWidth":0.97,"fullHighlight":false,"groupWidth":0.7,"legend":{"calcs":[],"displayMode":"table","placement":"bottom","showLegend":false},"orientation":"horizontal","showValue":"auto","stacking":"none","tooltip":{"hideZeros":false,"mode":"single","sort":"none"},"xTickLabelRotation":0,"xTickLabelSpacing":0},"pluginVersion":"12.3.1","targets":[{"dataset":"dashAgro","datasource":{"type":"grafana-postgresql-datasource","uid":"postgres"},"editorMode":"code","format":"table","rawQuery":true,"rawSql":"SELECT\n    talhao,\n    COUNT(*) AS total_alertas\nFROM vw_alertas_base\nWHERE\n    $__timeFilter(data_alerta)\n    AND id_propriedade = '$Propriedade'\nGROUP BY talhao\nORDER BY total_alertas DESC;","refId":"A","sql":{"columns":[{"parameters":[],"type":"function"}],"groupBy":[{"property":{"type":"string"},"type":"groupBy"}],"limit":50}}],"title":"Total de Alertas por Talhão","type":"barchart"},{"datasource":{"type":"grafana-postgresql-datasource","uid":"postgres"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","showValues":false,"spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":16},"id":2,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom","showLegend":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.3.1","targets":[{"dataset":"dashAgro","datasource":{"type":"grafana-postgresql-datasource","uid":"postgres"},"editorMode":"code","format":"table","rawQuery":true,"rawSql":"SELECT\n    date_trunc('hour', data_alerta) AS time,\n    COUNT(*) AS total\nFROM vw_alertas_base\nWHERE\n    $__timeFilter(data_alerta)\n    AND id_propriedade = '$Propriedade'\nGROUP BY time\nORDER BY time;","refId":"A","sql":{"columns":[{"parameters":[],"type":"function"}],"groupBy":[{"property":{"type":"string"},"type":"groupBy"}],"limit":50}}],"title":"Evolução de Alertas Propriedade","type":"timeseries"},{"datasource":{"type":"grafana-postgresql-datasource","uid":"postgres"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","fillOpacity":80,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineWidth":1,"scaleDistribution":{"type":"linear"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":24},"id":1,"options":{"barRadius":0,"barWidth":0.97,"fullHighlight":false,"groupWidth":0.7,"legend":{"calcs":[],"displayMode":"list","placement":"bottom","showLegend":true},"orientation":"auto","showValue":"auto","stacking":"none","tooltip":{"hideZeros":false,"mode":"single","sort":"none"},"xTickLabelRotation":0,"xTickLabelSpacing":0},"pluginVersion":"12.3.1","targets":[{"dataset":"dashAgro","datasource":{"type":"grafana-postgresql-datasource","uid":"postgres"},"editorMode":"code","format":"table","rawQuery":true,"rawSql":"SELECT\n    tipo_descricao,\n    COUNT(*) AS total\nFROM vw_alertas_base\nWHERE\n    $__timeFilter(data_alerta)\n    AND id_propriedade = '$Propriedade'\nGROUP BY tipo_descricao\nORDER BY total DESC;","refId":"A","sql":{"columns":[{"parameters":[],"type":"function"}],"groupBy":[{"property":{"type":"string"},"type":"groupBy"}],"limit":50}}],"title":"Quantidade de Alertas Propriedade","type":"barchart"}],"preload":false,"schemaVersion":42,"tags":[],"templating":{"list":[{"current":{"text":"Propriedade 1","value":"5188d346-b74d-498c-a690-4d6853718b90"},"datasource":{"type":"grafana-postgresql-datasource","uid":"postgres"},"definition":"SELECT DISTINCT id_propriedade AS __value, propriedade AS __text\nFROM vw_medicoes_base\nORDER BY __text;","label":"Propriedade","name":"Propriedade","options":[],"query":"SELECT DISTINCT id_propriedade AS __value, propriedade AS __text\nFROM vw_medicoes_base\nORDER BY __text;","refresh":1,"regex":"","type":"query"}]},"time":{"from":"now-6h","to":"now"},"timepicker":{},"timezone":"browser","title":"Alertas","uid":"adjgs2r","version":2}
  comparacao-talhoes.json: |
    {"annotations":{"list":[{"builtIn":1,"datasource":{"type":"grafana","uid":"-- Grafana --"},"enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations & Alerts","type":"dashboard"}]},"editable":true,"fiscalYearStartMonth":0,"graphTooltip":0,"id":8,"links":[],"panels":[{"datasource":{"type":"grafana-postgresql-datasource","uid":"postgres"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","fillOpacity":80,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineWidth":1,"scaleDistribution":{"type":"linear"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0},{"color":"red","value":80}]},"unit":"lengthmm"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":0},"id":2,"options":{"barRadius":0,"barWidth":0.97,"fullHighlight":false,"groupWidth":0.7,"legend":{"calcs":[],"displayMode":"list","placement":"bottom","showLegend":true},"orientation":"auto","showValue":"auto","stacking":"none","tooltip":{"hideZeros":false,"mode":"single","sort":"none"},"xTickLabelRotation":0,"xTickLabelSpacing":0},"pluginVersion":"12.3.1","targets":[{"dataset":"dashAgro","datasource":{"type":"grafana-postgresql-datasource","uid":"postgres"},"editorMode":"code","format":"table","rawQuery":true,"rawSql":"SELECT\n    talhao,\n    valor_medio\nFROM vw_medicoes_indicadores_dia\nWHERE\n    tipo = 1\n    AND id_propriedade = '$Propriedade'\n    AND dia = date_trunc('day', now())\nORDER BY valor_medio DESC;","refId":"A","sql":{"columns":[{"parameters":[],"type":"function"}],"groupBy":[{"property":{"type":"string"},"type":"groupBy"}],"limit":50}}],"title":"Umidade Média Dia","type":"barchart"},{"datasource":{"type":"grafana-postgresql-datasource","uid":"postgres"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","fillOpacity":80,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineWidth":1,"scaleDistribution":{"type":"linear"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0},{"color":"red","value":80}]},"unit":"celsius"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":8},"id":1,"options":{"barRadius":0,"barWidth":0.97,"fullHighlight":false,"groupWidth":0.7,"legend":{"calcs":[],"displayMode":"list","placement":"bottom","showLegend":true},"orientation":"auto","showValue":"auto","stacking":"none","tooltip":{"hideZeros":false,"mode":"single","sort":"none"},"xTickLabelRotation":0,"xTickLabelSpacing":0},"pluginVersion":"12.3.1","targets":[{"dataset":"dashAgro","datasource":{"type":"grafana-postgresql-datasource","uid":"postgres"},"editorMode":"code","format":"table","rawQuery":true,"rawSql":"SELECT\n    talhao,\n    valor_medio\nFROM vw_medicoes_indicadores_dia\nWHERE\n    tipo = 0\n    AND id_propriedade = '$Propriedade'\n    AND dia = date_trunc('day', now())\nORDER BY valor_medio DESC;","refId":"A","sql":{"columns":[{"parameters":[],"type":"function"}],"groupBy":[{"property":{"type":"string"},"type":"groupBy"}],"limit":50}}],"title":"Temperatura Media Dia","type":"barchart"}],"preload":false,"schemaVersion":42,"tags":[],"templating":{"list":[{"current":{"text":"Propriedade 1","value":"5188d346-b74d-498c-a690-4d6853718b90"},"datasource":{"type":"grafana-postgresql-datasource","uid":"postgres"},"definition":"SELECT DISTINCT id_propriedade AS __value, propriedade AS __text\nFROM vw_medicoes_base\nORDER BY __text;","label":"Propriedade","name":"Propriedade","options":[],"query":"SELECT DISTINCT id_propriedade AS __value, propriedade AS __text\nFROM vw_medicoes_base\nORDER BY __text;","refresh":1,"regex":"","type":"query"}]},"time":{"from":"now-6h","to":"now"},"timepicker":{},"timezone":"browser","title":"Comparação entre talhões","uid":"adzgfwq","version":1}
  status-atual-talhoes.json: |
    {"annotations":{"list":[{"builtIn":1,"datasource":{"type":"grafana","uid":"-- Grafana --"},"enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations & Alerts","type":"dashboard"}]},"editable":true,"fiscalYearStartMonth":0,"graphTooltip":0,"id":7,"links":[],"panels":[{"datasource":{"type":"grafana-postgresql-datasource","uid":"postgres"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0},{"color":"red","value":80}]},"unit":"lengthmm"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":0},"id":3,"options":{"colorMode":"value","graphMode":"area","justifyMode":"auto","orientation":"auto","percentChangeColorMode":"standard","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showPercentChange":false,"textMode":"auto","wideLayout":true},"pluginVersion":"12.3.1","targets":[{"dataset":"dashAgro","datasource":{"type":"grafana-postgresql-datasource","uid":"postgres"},"editorMode":"code","format":"table","rawQuery":true,"rawSql":"SELECT COALESCE(SUM(precipitacao_total), 0)\nFROM vw_precipitacao_diaria\nWHERE\nid_talhao = '$Talhao'\nAND dia = date_trunc('day', now());","refId":"A","sql":{"columns":[{"parameters":[],"type":"function"}],"groupBy":[{"property":{"type":"string"},"type":"groupBy"}],"limit":50}}],"title":"Chuva Hoje","type":"stat"},{"datasource":{"type":"grafana-postgresql-datasource","uid":"postgres"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0},{"color":"red","value":80}]},"unit":"percent"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":8},"id":2,"options":{"colorMode":"value","graphMode":"area","justifyMode":"auto","orientation":"auto","percentChangeColorMode":"standard","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showPercentChange":false,"textMode":"auto","wideLayout":true},"pluginVersion":"12.3.1","targets":[{"dataset":"dashAgro","datasource":{"type":"grafana-postgresql-datasource","uid":"postgres"},"editorMode":"code","format":"table","rawQuery":true,"rawSql":"SELECT valor\nFROM vw_medicoes_ultima\nWHERE\ntipo = 1\nAND id_talhao = '$Talhao';","refId":"A","sql":{"columns":[{"parameters":[],"type":"function"}],"groupBy":[{"property":{"type":"string"},"type":"groupBy"}],"limit":50}}],"title":"Umidade Atual","type":"stat"},{"datasource":{"type":"grafana-postgresql-datasource","uid":"postgres"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0},{"color":"red","value":80}]},"unit":"celsius"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":16},"id":1,"options":{"colorMode":"value","graphMode":"area","justifyMode":"auto","orientation":"auto","percentChangeColorMode":"standard","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showPercentChange":false,"textMode":"auto","wideLayout":true},"pluginVersion":"12.3.1","targets":[{"dataset":"dashAgro","datasource":{"type":"grafana-postgresql-datasource","uid":"postgres"},"editorMode":"code","format":"table","rawQuery":true,"rawSql":"SELECT valor\nFROM vw_medicoes_ultima\nWHERE\ntipo = 0\nAND id_talhao = '$Talhao';","refId":"A","sql":{"columns":[{"parameters":[],"type":"function"}],"groupBy":[{"property":{"type":"string"},"type":"groupBy"}],"limit":50}}],"title":"Temperatura Atual","type":"stat"}],"preload":false,"schemaVersion":42,"tags":[],"templating":{"list":[{"current":{"text":"Propriedade 1","value":"5188d346-b74d-498c-a690-4d6853718b90"},"datasource":{"type":"grafana-postgresql-datasource","uid":"postgres"},"definition":"SELECT DISTINCT id_propriedade AS __value, propriedade AS __text\nFROM vw_medicoes_base\nORDER BY __text;","description":"","label":"Propriedade","name":"Propriedade","options":[],"query":"SELECT DISTINCT id_propriedade AS __value, propriedade AS __text\nFROM vw_medicoes_base\nORDER BY __text;","refresh":1,"regex":"","type":"query"},{"current":{"text":"Talhao 1","value":"b3094ac6-b6f1-487c-ae6f-d281df57ba79"},"datasource":{"type":"grafana-postgresql-datasource","uid":"postgres"},"definition":"SELECT DISTINCT id_talhao AS __value, talhao AS __text\nFROM vw_medicoes_base\nWHERE id_propriedade = '$Propriedade'\nORDER BY __text;","label":"Talhão","name":"Talhao","options":[],"query":"SELECT DISTINCT id_talhao AS __value, talhao AS __text\nFROM vw_medicoes_base\nWHERE id_propriedade = '$Propriedade'\nORDER BY __text;","refresh":1,"regex":"","type":"query"}]},"time":{"from":"now-6h","to":"now"},"timepicker":{},"timezone":"browser","title":"Status Atual Talhão","uid":"adjfsf4","version":4}
  visao-propriedade.json: |
    {"annotations":{"list":[{"builtIn":1,"datasource":{"type":"grafana","uid":"-- Grafana --"},"enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations & Alerts","type":"dashboard"}]},"editable":true,"fiscalYearStartMonth":0,"graphTooltip":0,"id":6,"links":[],"panels":[{"datasource":{"type":"grafana-postgresql-datasource","uid":"postgres"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","fillOpacity":80,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineWidth":1,"scaleDistribution":{"type":"linear"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0},{"color":"red","value":80}]},"unit":"lengthmm"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":0},"id":3,"options":{"barRadius":0,"barWidth":0.97,"fullHighlight":false,"groupWidth":0.7,"legend":{"calcs":[],"displayMode":"list","placement":"bottom","showLegend":true},"orientation":"auto","showValue":"auto","stacking":"none","tooltip":{"hideZeros":false,"mode":"single","sort":"none"},"xTickLabelRotation":0,"xTickLabelSpacing":0},"pluginVersion":"12.3.1","targets":[{"dataset":"dashAgro","datasource":{"type":"grafana-postgresql-datasource","uid":"postgres"},"editorMode":"code","format":"table","rawQuery":true,"rawSql":"SELECT\ndia AS time,\nprecipitacao_total\nFROM vw_precipitacao_diaria\nWHERE\nid_propriedade = '$Propriedade'\nAND id_talhao = '$Talhao'\nORDER BY dia;","refId":"A","sql":{"columns":[{"parameters":[],"type":"function"}],"groupBy":[{"property":{"type":"string"},"type":"groupBy"}],"limit":50}}],"title":"Precipitação diária","type":"barchart"},{"datasource":{"type":"grafana-postgresql-datasource","uid":"postgres"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","showValues":false,"spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0},{"color":"red","value":80}]},"unit":"percent"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":8},"id":2,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom","showLegend":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.3.1","targets":[{"dataset":"dashAgro","datasource":{"type":"grafana-postgresql-datasource","uid":"postgres"},"editorMode":"code","format":"table","rawQuery":true,"rawSql":"SELECT\nhora AS time,\nvalor_medio\nFROM vw_medicoes_media_hora\nWHERE\ntipo = 1\nAND id_propriedade = '$Propriedade'\nAND id_talhao = '$Talhao'\nORDER BY hora;","refId":"A","sql":{"columns":[{"parameters":[],"type":"function"}],"groupBy":[{"property":{"type":"string"},"type":"groupBy"}],"limit":50}}],"title":"Umidade","type":"timeseries"},{"datasource":{"type":"grafana-postgresql-datasource","uid":"postgres"},"fieldConfig":{"defaults":{"color":{"fixedColor":"green","mode":"fixed"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"scheme","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","showValues":false,"spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0}]},"unit":"celsius"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":16},"id":1,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom","showLegend":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.3.1","targets":[{"dataset":"dashAgro","datasource":{"type":"grafana-postgresql-datasource","uid":"postgres"},"editorMode":"code","format":"table","rawQuery":true,"rawSql":"SELECT\nhora AS time,\nvalor_medio\nFROM vw_medicoes_media_hora\nWHERE\ntipo = 0\nAND id_propriedade = '$Propriedade'\nAND id_talhao = '$Talhao'\nORDER BY hora;","refId":"A","sql":{"columns":[{"parameters":[],"type":"function"}],"groupBy":[{"property":{"type":"string"},"type":"groupBy"}],"limit":50}}],"title":"Temperatura","type":"timeseries"}],"preload":false,"schemaVersion":42,"tags":[],"templating":{"list":[{"current":{"text":"Propriedade 1","value":"5188d346-b74d-498c-a690-4d6853718b90"},"datasource":{"type":"grafana-postgresql-datasource","uid":"postgres"},"definition":"SELECT DISTINCT id_propriedade AS __value, propriedade AS __text\nFROM vw_medicoes_base\nORDER BY __text;","label":"Propriedade","name":"Propriedade","options":[],"query":"SELECT DISTINCT id_propriedade AS __value, propriedade AS __text\nFROM vw_medicoes_base\nORDER BY __text;","refresh":1,"regex":"","type":"query"},{"current":{"text":"Talhao 1","value":"b3094ac6-b6f1-487c-ae6f-d281df57ba79"},"datasource":{"type":"grafana-postgresql-datasource","uid":"postgres"},"definition":"SELECT DISTINCT id_talhao AS __value, talhao AS __text\nFROM vw_medicoes_base\nWHERE id_propriedade = '$Propriedade'\nORDER BY __text;","label":"Talhão","name":"Talhao","options":[],"query":"SELECT DISTINCT id_talhao AS __value, talhao AS __text\nFROM vw_medicoes_base\nWHERE id_propriedade = '$Propriedade'\nORDER BY __text;","refresh":1,"regex":"","type":"query"}]},"time":{"from":"now-6h","to":"now"},"timepicker":{},"timezone":"browser","title":"Visão Geral Propriedade","uid":"adcbfg7","version":5}
  metrics.json: |
    {"annotations":{"list":[{"builtIn":1,"datasource":{"type":"grafana","uid":"-- Grafana --"},"enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations & Alerts","type":"dashboard"}]},"editable":true,"fiscalYearStartMonth":0,"graphTooltip":0,"id":11,"links":[],"panels":[{"datasource":{"type":"prometheus","uid":"prometheus"},"fieldConfig":{"defaults":{"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":4,"w":6,"x":0,"y":0},"id":1,"options":{"colorMode":"value","graphMode":"area","justifyMode":"auto","orientation":"auto","percentChangeColorMode":"standard","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showPercentChange":false,"textMode":"auto","wideLayout":true},"pluginVersion":"12.3.1","targets":[{"editorMode":"code","expr":"avg(\n  rate(process_cpu_time_seconds_total{service_name=\"$service\"}[1m])\n) * 100","range":true,"refId":"A"}],"title":"CPU do Processo (%)","type":"stat"},{"fieldConfig":{"defaults":{"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":4,"w":6,"x":6,"y":0},"id":2,"options":{"colorMode":"value","graphMode":"area","justifyMode":"auto","orientation":"auto","percentChangeColorMode":"standard","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showPercentChange":false,"textMode":"auto","wideLayout":true},"pluginVersion":"12.3.1","targets":[{"expr":"process_runtime_dotnet_gc_heap_size_bytes{service_name=\"$service\"} / 1024 / 1024","refId":"A"}],"title":"Memória GC Heap (MB)","type":"stat"},{"fieldConfig":{"defaults":{"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":4,"w":6,"x":12,"y":0},"id":3,"options":{"colorMode":"value","graphMode":"area","justifyMode":"auto","orientation":"auto","percentChangeColorMode":"standard","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showPercentChange":false,"textMode":"auto","wideLayout":true},"pluginVersion":"12.3.1","targets":[{"expr":"rate(process_runtime_dotnet_exceptions_count_total{service_name=\"$service\"}[1m]) * 60","refId":"A"}],"title":"Exceções / min","type":"stat"},{"datasource":{"type":"prometheus","uid":"prometheus"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","showValues":false,"spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":6,"w":12,"x":0,"y":4},"id":4,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom","showLegend":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.3.1","targets":[{"expr":"process_runtime_dotnet_gc_heap_size_bytes{service_name=\"$service\"} / 1024 / 1024","refId":"A"}],"title":"Heap Size (MB)","type":"timeseries"},{"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","showValues":false,"spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":6,"w":12,"x":12,"y":4},"id":5,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom","showLegend":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.3.1","targets":[{"expr":"process_runtime_dotnet_gc_objects_size_bytes{service_name=\"$service\"} / 1024 / 1024","refId":"A"}],"title":"Objetos no Heap (MB)","type":"timeseries"},{"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","showValues":false,"spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":6,"w":12,"x":0,"y":10},"id":6,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom","showLegend":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.3.1","targets":[{"expr":"rate(process_runtime_dotnet_gc_collections_count_total{service_name=\"$service\"}[1m]) * 60","refId":"A"}],"title":"GC Collections / min","type":"timeseries"},{"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","showValues":false,"spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":6,"w":12,"x":12,"y":10},"id":7,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom","showLegend":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.3.1","targets":[{"expr":"rate(process_runtime_dotnet_gc_duration_nanoseconds_total{service_name=\"$service\"}[1m]) / 1e6","refId":"A"}],"title":"Tempo em GC (ms/min)","type":"timeseries"},{"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","showValues":false,"spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":6,"w":12,"x":0,"y":16},"id":8,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom","showLegend":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.3.1","targets":[{"expr":"rate(process_runtime_dotnet_gc_allocations_size_bytes_total{service_name=\"$service\"}[1m]) / 1024","refId":"A"}],"title":"Alocações GC (KB/s)","type":"timeseries"},{"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","showValues":false,"spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":0},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":6,"w":12,"x":12,"y":16},"id":9,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom","showLegend":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"12.3.1","targets":[{"expr":"process_runtime_dotnet_gc_heap_fragmentation_size_bytes{service_name=\"$service\"} / 1024","refId":"A"}],"title":"Fragmentação do Heap (KB)","type":"timeseries"}],"preload":false,"refresh":"10s","schemaVersion":42,"tags":["dotnet","opentelemetry","runtime","worker"],"templating":{"list":[{"current":{"text":"AgroSolutions.Medicoes.Worker","value":"AgroSolutions.Medicoes.Worker"},"datasource":"Prometheus","name":"service","options":[{"selected":true,"text":"AgroSolutions.Medicoes.Worker","value":"AgroSolutions.Medicoes.Worker"},{"selected":false,"text":"otelcol-contrib","value":"otelcol-contrib"}],"query":"label_values({__name__!=\"\"}, service_name)","type":"query"},{"current":{"text":"Development","value":"Development"},"datasource":"Prometheus","name":"environment","options":[{"selected":true,"text":"Development","value":"Development"}],"query":"label_values({__name__!=\"\"}, deployment_environment)","type":"query"}]},"time":{"from":"now-6h","to":"now"},"timepicker":{},"timezone":"browser","title":".NET Worker – OpenTelemetry Runtime","uid":"dotnet-worker-otel-runtime","version":2}
